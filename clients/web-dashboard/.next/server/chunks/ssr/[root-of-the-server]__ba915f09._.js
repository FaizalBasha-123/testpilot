module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},78917,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=process.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:8001";function e(){let[a,e]=(0,c.useState)(null),[f,g]=(0,c.useState)("Loading organizations..."),[h,i]=(0,c.useState)(null),j=(0,c.useMemo)(()=>"",[]);return(0,c.useEffect)(()=>{j?fetch(`${d}/api/orgs`,{headers:{Authorization:`Bearer ${j}`}}).then(a=>a.json()).then(a=>{e(a),i(a?.account?.id||null),g("Ready")}).catch(()=>g("Failed to load organizations")):g("Missing auth token. Please login again.")},[j]),(0,b.jsxs)("main",{className:"container",children:[(0,b.jsxs)("div",{className:"header",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{children:"Select an organization"}),(0,b.jsx)("p",{className:"muted",children:"Choose where to install the GitHub App. You can include all repos or select specific ones on the next step."})]}),(0,b.jsx)("a",{className:"button secondary",href:"/dashboard",children:"Skip"})]}),(0,b.jsxs)("div",{className:"card",style:{marginBottom:24},children:[(0,b.jsx)("strong",{children:"Status:"})," ",f]}),(0,b.jsxs)("div",{className:"card",style:{marginBottom:24},children:[(0,b.jsx)("h3",{children:"Available Organizations"}),(0,b.jsxs)("div",{className:"grid",style:{marginTop:16},children:[a?.account&&(0,b.jsx)("label",{className:"repo",style:{cursor:"pointer"},children:(0,b.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[(0,b.jsx)("input",{type:"radio",checked:h===a.account.id,onChange:()=>i(a.account.id)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{style:{fontWeight:600},children:a.account.login}),(0,b.jsx)("div",{className:"muted",style:{fontSize:13},children:"Personal account"})]})]})}),a?.orgs?.map(a=>(0,b.jsx)("label",{className:"repo",style:{cursor:"pointer"},children:(0,b.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[(0,b.jsx)("input",{type:"radio",checked:h===a.id,onChange:()=>i(a.id)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{style:{fontWeight:600},children:a.login}),(0,b.jsx)("div",{className:"muted",style:{fontSize:13},children:"Organization"})]})]})},a.id))]})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:16},children:[(0,b.jsx)("a",{className:"button",href:(()=>{if(!h)return"#";let a=new URL(`${d}/auth/install`);return a.searchParams.set("target_id",String(h)),a.toString()})(),target:"_blank",children:"Install & Authorize"}),(0,b.jsx)("a",{className:"button secondary",href:"/",children:"Back to Home"})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ba915f09._.js.map